<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Controlando o Sonic com o teclado - Canvas HTML5</title>
        <script src="js/spritesheet.js"></script>
        <script src="js/animacao.js"></script>
        <script src="js/teclado.js"></script>
        <script src="js/sonic.js"></script>
    </head>
    <body>
        <canvas id="palco" width="1500" height="500">
            Ops! O seu navegador parece não ter suporte para este recurso.. :(
        </canvas>
        <script>
            // Encontra o canvas e o contexo 2D
            var canvas = document.getElementById('palco');
            var context = canvas.getContext('2d');
            
            // Cria o objeto para capturar o teclado
            var teclado = new Teclado(document);
            
            // Cria o objeto de animação
            var animacao = new Animacao(context);
            
            // Carrega a imagem do sonic
            var imgSonic = new Image();
            imgSonic.src = 'assets/images/spritesheet.png';
            
            // Cria o objeto Sonic
            var sonic = new Sonic(context, teclado, imgSonic);
            sonic.x = 0;
            sonic.y = 200;
            
            // Registra o sonic como um novo elemento da tela
            animacao.novoSprite(sonic);
            
            // Inicia a animação depois que a imagem estiver carregada
            imgSonic.onload = function() {
                animacao.ligar();
            }
        </script>
    </body>
</html>